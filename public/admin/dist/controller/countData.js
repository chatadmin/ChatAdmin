/** layuiAdmin.pro-v1.0.0-beta9 LPPL License By http://www.layui.com/admin/ */
 ;layui.define(function(e){layui.use(["admin","echarts"],function(){var e=layui.$,t=layui.element,a=layui.echarts,r=layui.admin,n=layui.form;t.render();var l=new Date,o=l.getFullYear()+"-"+(l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth())+"-"+(l.getDate()<10?"0"+l.getDate():l.getDate());e("#orderStartTime").attr("value",o);var s=function(){var t=a.init(document.getElementById("gamecount")),i={title:{x:"center",text:"彩种投注金额统计"},tooltip:{trigger:"item"},toolbox:{show:!0,feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},grid:{borderWidth:0,x:10,x2:10,y:120,y2:0},xAxis:[{type:"category",show:!1,data:[]}],yAxis:[{type:"value",show:!1}],series:[{name:"投注额",type:"bar",itemStyle:{normal:{label:{show:!0,position:"top",formatter:"{b}\n{c}"}}},data:[]}]};r.req({url:layui.setter.URL_ADMIN+"/countData/getTypeCount",data:{startTime:e("#orderStartTime").val(),endTime:e("#orderEndTime").val(),userID:e("#orderUserID").val()},done:function(e){i.xAxis[0].data=e.data.title,i.series[0].data=e.data.amount,t.setOption(i)}})};s();var d=a.init(document.getElementById("layui-index-water")),u=a.init(document.getElementById("layui-index-game")),y={title:{text:"充值/提现"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},color:["#3498db","red","#cccccc"],grid:{y:60,y2:30},legend:{data:["充值","提现","盈亏"]},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value",name:"充值/提现",min:0,interval:5,axisLabel:{formatter:"{value} 元"}},{type:"value",name:"盈亏",min:0,interval:5,axisLabel:{formatter:"{value} 元"}}],series:[{name:"充值",type:"line",data:[]},{name:"提现",type:"line",data:[]},{name:"盈亏",type:"line",yAxisIndex:1,data:[]}]},m={title:{text:"投注/中奖"},tooltip:{trigger:"axis"},toolbox:{show:!0,feature:{magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},grid:{y:60,y2:30},color:["#3498db","red","#cccccc"],legend:{data:["投注","中奖","盈亏"]},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value",name:"投注/中奖",min:0,interval:5,axisLabel:{formatter:"{value} 元"}},{type:"value",name:"盈亏",min:0,interval:5,axisLabel:{formatter:"{value} 元"}}],series:[{name:"投注",type:"line",data:[]},{name:"中奖",type:"line",data:[]},{name:"盈亏",type:"line",yAxisIndex:1,data:[]}]};r.req({url:layui.setter.URL_ADMIN+"/countData/getCountData",done:function(e){y.xAxis[0].data=e.data.labels,m.xAxis[0].data=e.data.labels,y.series[0].data=e.data.recharge,y.series[1].data=e.data.cash,y.series[2].data=e.data.recharge_win,m.series[0].data=e.data.bets,m.series[1].data=e.data.wins,m.series[2].data=e.data.bets_wins,d.setOption(y),u.setOption(m)}}),n.on("submit(countDataForm)",function(e){return c(),s(),!1});var c=function(){r.req({url:layui.setter.URL_ADMIN+"/countData/getDayStatCount",data:{startTime:e("#orderStartTime").val(),endTime:e("#orderEndTime").val(),userID:e("#orderUserID").val()},done:function(t){for(i in t.data)e("#layui-data-"+i).text(t.data[i]);e("#totalRecharge>i").text(t.data[19])}})};c()}),layui.use("table",function(){var e=(layui.$,layui.table);e.render({elem:"#LAY-CountData-mainLeftReports",url:layui.setter.URL_ADMIN+"/countData/mainLeftReports",where:{token:layui.data("layuiAdmin").access_token},page:!1,cols:[[{field:"title",width:120,align:"center",unresize:!0},{field:"today",title:"今日统计",unresize:!0},{field:"yesterday",title:"昨日统计",unresize:!0},{field:"week",title:"本周统计",unresize:!0},{field:"month",title:"本月统计",unresize:!0}]]}),e.render({elem:"#LAY-CountData-mainRightReports",url:layui.setter.URL_ADMIN+"/countData/mainRightReports",where:{token:layui.data("layuiAdmin").access_token},page:!1,cols:[[{field:"month",title:"月份",width:120,align:"center",unresize:!0},{field:"rechargeAmount",title:"总存款",unresize:!0},{field:"betAmount",title:"总投注",unresize:!0},{field:"rechargeProfit",title:"充值盈亏",unresize:!0}]]})}),layui.use(["form","laydate"],function(){for(var e=(layui.form,layui.laydate),t=1;t<=2;t++){var a=".time"+t;e.render({elem:a})}}),e("countData",{})});